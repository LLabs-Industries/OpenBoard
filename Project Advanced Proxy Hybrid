// Coded in C++ by Lorenzo J Munguia

// ------------------------------------------------------
// SELECT YOUR LCD TYPE HERE:
// ------------------------------------------------------
// #define USE_PARALLEL_LCD     // LiquidCrystal (pins 7,12,11,10,9,8)
// #define USE_ADAFRUIT_LCD        // Adafruit_LiquidCrystal (I2C)
// ------------------------------------------------------

#ifdef USE_PARALLEL_LCD
#include <LiquidCrystal.h>
LiquidCrystal lcd_1(7, 12, 11, 10, 9, 8);
#endif

#ifdef USE_ADAFRUIT_LCD
#include <Adafruit_LiquidCrystal.h>
Adafruit_LiquidCrystal lcd_1(0);
#endif

// ------------------------------------------------------
// Hardware Pins
// ------------------------------------------------------
const int sensorPin = 2;
const int ledPin = 13;
const int exled = 3;
const int exspeak = 4;
const int exled2 = 5;

void setup() {
  pinMode(sensorPin, INPUT);
  pinMode(ledPin, OUTPUT);
  pinMode(exled, OUTPUT);
  pinMode(exspeak, OUTPUT);
  pinMode(exled2, OUTPUT);

  Serial.begin(9600);
  Serial.println("IR Proximity Sensor Initialized");

  lcd_1.begin(16, 2);

  // Splash screens
  lcd_1.print("LLabs Industries");
  lcd_1.setCursor(0,1);
  lcd_1.print("Est 2011");
  delay(1000);

  lcd_1.clear();
  lcd_1.print("PBC Engineering");
  lcd_1.setCursor(0,1);
  lcd_1.print("Est 2003");
  delay(1000);

  lcd_1.clear();
  lcd_1.print("By Mr");
  lcd_1.setCursor(0,1);
  lcd_1.print("Bluesky");
  delay(1000);

  lcd_1.clear();
}

void loop() {
  static int lastProximity = -1;
  int proximity = digitalRead(sensorPin);

  if (proximity != lastProximity) {
    lcd_1.clear();

    if (proximity == HIGH) {
      digitalWrite(ledPin, HIGH);
      digitalWrite(exled2, LOW);
      digitalWrite(exled, HIGH);
      digitalWrite(exspeak, HIGH);
      Serial.println("Motion Detected");
      lcd_1.print("Motion Detected");
    } else {
      digitalWrite(ledPin, LOW);
      digitalWrite(exled2, HIGH);
      digitalWrite(exled, LOW);
      digitalWrite(exspeak, LOW);
      Serial.println("No Motion");
      lcd_1.print("No Motion");
    }

    lastProximity = proximity;
  }

  delay(1);
}
